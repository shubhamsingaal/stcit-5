{%extends 'base.html'%}
{% load static %}
{%block content%}
<section class="outerBorder-lBoard glowing-circle">
    <a href="{% url 'cit2020:navPage' %}"><button type="button" class="btn backButton glowing-circle-backButton"><-</button></a>
    <div class="container">
        <div class="logo-lBoard"><img src="{% static './Assets/logoThemed.png' %}" alt="logo-lBoard"></div>
        <div class="container">
            <section>
                <div class="cont-lBoard">
                    <div class="content text-center outerBorder glowing-circle">
                        LEADERBOARD
                        <br>
                        {% if slot == 1 %}Slot 1
                        {% elif slot == 2 %}Slot 2
                        {% elif slot == 3 %}Slot 3
                        {% else %}Final
                        {% endif %}
                    </div>
                </div>

                 <div class="slots-lBoard">
                    <div class="container">
                        <a id="slot1" class="slot-button-lBoard rounded-corners-gradient-borders"
                            href="{% url 'cit2020:lboard' 1  %}">Slot 1</a>
                        <a id="slot2" class="slot-button-lBoard rounded-corners-gradient-borders"
                            href="{% url 'cit2020:lboard' 2  %}">Slot 2</a>
                        <a id="slot3" class="slot-button-lBoard rounded-corners-gradient-borders"
                            href="{% url 'cit2020:lboard' 3  %}">Slot 3</a>
                        <a id="finalSlot" class="slot-button-lBoard rounded-corners-gradient-borders"
                            href="{% url 'cit2020:lboard' 4 %}">Final Round</a>
                    </div>
                </div>
            
            
            <br>
            {% if players %}
            {% if rank == 0 %}
            {% else %}
            <h4 style="text-align: center;"><strong> Your rank is {{rank}} </strong></h4>
            {% endif %}
            <br>

            {% comment %} <div class="slots-lBoard">
                <div class="container">
                    <a class="slot-button-lBoard rounded-corners-gradient-borders"
                        href="{% url 'cit2020:lboard' 1  %}">Slot 1</a>
                    <a class="slot-button-lBoard rounded-corners-gradient-borders"
                        href="{% url 'cit2020:lboard' 2  %}">Slot 2</a>
                    <a class="slot-button-lBoard rounded-corners-gradient-borders"
                        href="{% url 'cit2020:lboard' 3  %}">Slot 3</a>
                    <a class="slot-button-lBoard rounded-corners-gradient-borders"
                        href="{% url 'cit2020:lboard' 4 %}">Final Round</a>
                </div>
            </div> {% endcomment %}
        </section>
            <div class="row">
                <!-- First Position -->
                <div class="col-sm-4">
                    <div class="leaderboard-card leaderboard-card">

                        <div class="leaderboard-card__body">
                            <div class="text-center">
                                <img src="{% static './Assets/lBoardAsset1.svg' %}" class="circle-img mb-2" alt="User Img">
                                <div class="bodyBox-lBoard">
                                {% if slot == 4 %}
                                {% for player in players|slice:":1" %}
                                    {% if rank !=  player.rank %}
                                    <h5 class="hashTag">#1</h5>
                                    <h5 class="mb-0 nameLboard">{{player.name}}</h5>
                                    <p class="text-muted mb-0">@{{player.userName}}</p>
                                    <div class="leaderboard-card-bottom">
                                        <h3 class="text-center scoreLboard">{{player.final_score}}</h3>
                                    </div>
                                    {% endif %}
                                {% endfor %}
                                {% else %}
                                {% for player in players|slice:":1" %}
                                    {% if rank !=  player.rank %}
                                    <h5 class="hashTag">#1</h5>
                                    <h5 class="mb-0 nameLboard">{{player.name}}</h5>
                                    <p class="text-muted mb-0">@{{player.userName}}</p>
                                    <div class="leaderboard-card-bottom">
                                        <h3 class="text-center scoreLboard">{{player.score}}</h3>
                                    </div>
                                    {% endif %}
                                {% endfor %}
                                {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
                <div class="col-sm-4">
                    <div class="leaderboard-card">
                        <div class="leaderboard-card__body">
                            <div class="text-center">
                                <img src="{% static './Assets/lBoardAsset2.svg' %}" class="circle-img mb-2" alt="User Img">
                                <div class="bodyBox-lBoard">
                                    {% if slot == 4 %}
                                    {% for player in players|slice:":2" %}
                                    {% if rank !=  player.rank %}
                                        {% if player.rank == 2 %}
                                        <h5 class="hashTag">#2</h5>
                                        <h5 class="mb-0 nameLboard">{{player.name}}</h5>
                                        <p class="text-muted mb-0">@{{player.userName}}</p>
                                        <div class="leaderboard-card-bottom">
                                            <h3 class="text-center scoreLboard">{{player.final_score}}</h3>
                                        </div>
                                        {% endif %}
                                    {% endif %}
                                    {% endfor %}
                                    {% else %}
                                    {% for player in players|slice:":2" %}
                                    {% if rank !=  player.rank %}
                                        {% if player.rank == 2 %}
                                        <h5 class="hashTag">#2</h5>
                                        <h5 class="mb-0 nameLboard">{{player.name}}</h5>
                                        <p class="text-muted mb-0">@{{player.userName}}</p>
                                        <div class="leaderboard-card-bottom">
                                            <h3 class="text-center scoreLboard">{{player.score}}</h3>
                                        </div>
                                        {% endif %}
                                    {% endif %}
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
                <div class="col-sm-4">
                    <div class="leaderboard-card">
                        <div class="leaderboard-card__body">
                            <div class="text-center">
                                <img src="{% static './Assets/lBoardAsset3.svg' %}" class="circle-img mb-2" alt="User Img">
                                <div class="bodyBox-lBoard">
                                    {% if slot == 4 %}
                                    {% for player in players|slice:":3" %}
                                    {% if rank !=  player.rank %}
                                        {% if player.rank == 3 %}
                                        <h5 class="hashTag">#3</h5>
                                        <h5 class="mb-0 nameLboard">{{player.name}}</h5>
                                        <p class="text-muted mb-0">@{{player.userName}}</p>
                                        <div class="leaderboard-card-bottom">
                                            <h3 class="text-center scoreLboard">{{player.score}}</h3>
                                        </div>
                                        {% endif %}
                                    {% endif %}
                                    {% endfor %}
                                    {% else %}
                                    {% for player in players|slice:":3" %}
                                    {% if rank !=  player.rank %}
                                        {% if player.rank == 3 %}
                                        <h5 class="hashTag">#3</h5>
                                        <h5 class="mb-0 nameLboard">{{player.name}}</h5>
                                        <p class="text-muted mb-0">@{{player.userName}}</p>
                                        <div class="leaderboard-card-bottom">
                                            <h3 class="text-center scoreLboard">{{player.score}}</h3>
                                        </div>
                                        {% endif %}
                                    {% endif %}
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">

            <h4>All Users</h4>
            <table class="table table-borderless">
                <thead>
                    <tr>
                        <th scope="col">Rank</th>
                        <th scope="col">Name</th>
                        <th scope="col" class="text-center">Score</th>
                    </tr>
                </thead>
                <tbody>
                {% if slot == 4 %}
                    {% for player in players %}
                    {% if rank == player.rank %}
                    <tr class="highlight-rank" >
                        <td scope="row">{{ player.rank }}</td>
                        <td>{{ player.name }}
                            <p class="text-muted mb-0">@{{player.userName}}</p>
                        </td>
                        <td class="text-center">{{player.final_score}}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <td scope="row">{{ player.rank }}</td>
                        <td>{{ player.name }}
                            <p class="text-muted mb-0">@{{player.userName}}</p>
                        </td>
                        <td class="text-center">{{player.final_score}}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                {% else %}
                    {% for player in players %}
                    {% if rank == player.rank %}
                    <tr class="highlight-rank" >
                        <td scope="row">{{ player.rank }}</td>
                        <td>{{ player.name }}
                            <p class="text-muted mb-0">@{{player.userName}}</p>
                        </td>
                        <td class="text-center">{{player.score}}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <td scope="row">{{ player.rank }}</td>
                        <td>{{ player.name }}
                            <p class="text-muted mb-0">@{{player.userName}}</p>
                        </td>
                        <td class="text-center">{{player.score}}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                {% endif %}
                    {% comment %} <tr>
                        <td scope="row">1</td>
                        <td>Demo_name
                            <p class="text-muted mb-0">@demo</p>
                        </td>
                        <td class="text-center">#</td>
                    </tr>
                    <tr>
                        <td scope="row">2</td>
                        <td>Demo_name
                            <p class="text-muted mb-0">@demo</p>
                        </td>
                        <td class="text-center">#</td>
                    </tr>
                    <tr>
                        <td scope="row">3</td>
                        <td>Demo_name
                            <p class="text-muted mb-0">@demo</p>
                        </td>
                        <td class="text-center">#</td>
                    </tr> {% endcomment %}
                </tbody>
            </table>
            {% else %}
            <div class="soonText text-center">
                Leaderboard will be available soon .... 
            </div>
            {% endif %}
        </div>

    </div>
</section>
<style>
    @font-face {
        font-family: MonsOlympia;
        src: url({% static './fonts/MonsOlympia.ttf'%});
    }

    body {
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: 100% 100%;
        color: #4EBAF0;
        font-family: MonsOlympia;
        letter-spacing: 4px;
        background-image: url({% static './Assets/bg.png' %});
    }
    .nameLboard{
        font-size: 150%;
    }

    .scoreLboard{
        font-size: 90%;
        color:white;
    }

    .hashTag{
        position: absolute;
        color: whitesmoke;
        font-size: 1.3rem;
        margin-left:1.5%;
        margin-top: 0.7%;
    }

    .highlight-rank{
        color:red;
    }
    .cont-lBoard {
        display: flex;
        flex-direction: row;
        justify-content: center;
        margin-top: 4rem;
        font-size: 5rem;
    }
    
    .topBox {
        height: 5rem;
        position: fixed;
        width: 100%;
    }
    
    .leaderboard-card {
        background: #080c5800;
        margin-bottom: 30px;
        height: auto;
    }
    
    .bodyBox-lBoard {
        background-color: #040737a0;
        border-radius: 30px;
        border: 2px solid #4EBAF0;
        background-origin: border-box;
        background-clip: padding-box, border-box;
    }
    
    .soonText{
        margin-top:13%;
        font-size: 3rem;
    }
    .leaderboard-card.leaderboard-card--first {
        transform: scale(1.05);
    }
    
    .leaderboard-card.leaderboard-card--first .leaderboard-card-bottom {
        color: red;
    }
    
    .leaderboard-card-bottom {
        width: auto;
    }
    
    
    img.circle-img.circle-img--small {
        height: 55px;
        width: 55px;
    }
    
    .table {
        border-spacing: 0 15px;
        border-collapse: separate;
    }
    
    .table-section {
        margin-top: 45px;
    }
    
    .table-section h1 {
        text-align: center;
        margin-bottom: 30px;
    }
    
    
    .table thead {
        background: rgb(0, 1, 1);
        color: white;
    }
    
    .table tr {
        height: 60px;
        text-align: center;
    }
    
    .table tr:hover {
        background-color: rgb(0, 1, 1);
    }
    
    .table tr.highlight-rank {
        background-color: rgba(17, 26, 45, 0.1);
    }
    
    .table td {
        font-size: 16px;
        padding-top: 22px;
        padding-bottom: 22px;
        color: #4EBAF0;
    }
    
    .table thead tr th,
    .table thead tr td,
    .table tbody tr th {
        vertical-align: middle;
        border: none;
    }
    
    .table tbody tr th,
    .table tbody tr td,
    .table tbody tr th {
        vertical-align: middle;
        border: none;
    }
    
    .table thead tr th:nth-last-child(1),
    .table thead tr td:nth-last-child(1),
    .table tbody tr th:nth-last-child(1) {
        text-align: center;
    }
    
    
    .table tbody tr td {
        background: rgba(6, 86, 136, 0.488);
    }
    
    
    .table tbody tr td:nth-child(1) {
        border-radius: 20px 0 0 20px;
        border: double 2px transparent;
        background-image: linear-gradient(rgba(0, 0, 0, 0.542), rgba(0, 0, 0, 0.542)), linear-gradient(#224fcb7e, #0018223b);
        background-origin: border-box;
        background-clip: padding-box, border-box;
        border-right: none;
    }
    
    .table tbody tr td:nth-child(2) {
        border: double 2px transparent;
        background-image: linear-gradient(rgba(0, 0, 0, 0.542), rgba(0, 0, 0, 0.542)), linear-gradient(#224fcb7e, #0018223b);
        background-origin: border-box;
        background-clip: padding-box, border-box;
        border-left: none;
        border-right: none;
    }
    
    .table tbody tr td:nth-last-child(1) {
        border-radius: 0 20px 20px 0;
        border: double 2px transparent;
        background-image: linear-gradient(rgba(0, 0, 0, 0.542), rgba(0, 0, 0, 0.542)), linear-gradient(#224fcb7e, #0018223b);
        background-origin: border-box;
        background-clip: padding-box, border-box;
        border-left: none;
    }
    
    .row{
        margin-top:3rem;
    }
    
    .rounded-corners-gradient-borders {
        border: double 2px transparent;
        border-radius: 20px;
        background-image: linear-gradient(rgba(0, 0, 0, 0.542), rgba(0, 0, 0, 0.542)), linear-gradient(#2241cb, #0018223b);
        background-origin: border-box;
        background-clip: padding-box, border-box;
        box-shadow: 0 5px 5px rgba(0, 0, 0.2);
    }
    
    .slots-lBoard {
        text-align: center;
        margin-top: 2rem;
    }
    
    .slots-lBoard a:hover {
        text-decoration: none;
    }
    
    /* Border */
    
    .outerBorder-lBoard {
        position: relative;
        border: 2px solid #4EBAF0;
        width: 95%;
        margin-top: 1.2%;
        left: 2.5%;
        margin-bottom: 1.5%;
        border-radius: 3rem;
        justify-content: center;
        align-items: center;
        align-content: center;
        min-height: 93vh;
    }
    
    .glowing-circle {
    
        -webkit-animation: glowing 1s ease-in-out infinite alternate;
        -moz-animation: glowing 1s ease-in-out infinite alternate;
        animation: glowing 1s ease-in-out infinite alternate;
    }
    
    @keyframes glowing {
        from {
            box-shadow: 0 0 1px #fff, 0 0 2px #fff, 0 0 3px #4e79f0, 0 0 4px rgba(0, 255, 255, 0.079), 0 0 5px #4ebaf025, 0 0 6prgba(78, 186, 240, 0.271)F0, 0 0 7px #4EBAF0;
        }
    
        to {
            box-shadow: 0 0 2px #fff, 0 0 3px #4EBAF0, 0 0 4px #4EBAF0, 0 0 5px #4EBAF0, 0 0 6px #4EBAF0, 0 0 7px #4EBAF0, 0 0 8px #4EBAF0;
        }
    }
    {% comment %} back button {% endcomment %}
    .backButton{
        position: absolute;
        border: 2px solid #4EBAF0;
        border-radius: 1rem;
        font-size: 1.5rem;
        padding: 0px 10px;
        right:2%;
        top:2%;
        font-family: MonsOlympia;
        border-left-style: none;
        color: rgb(194 200 206);
        background-color:#0000004d;
        text-align: center;
    }

    .backButton:hover{
        background-color:#4EBAF0;
        transform: scale(1.1);
    }

    .glowing-circle-backButton {
    
        -webkit-animation: glowing 2s ease-in-out infinite alternate;
        -moz-animation: glowing 2s ease-in-out infinite alternate;
        animation: glowing 2s ease-in-out infinite alternate;
    }
    {% comment %}  {% endcomment %}
    /* For mobile */
    @media (min-width: 200px) and (max-width: 1024px) {
        .backButton{
            right:4%;
            top:1%;
        }
        .content {
            border-style: solid;
            border-width: 1;
            border-color: #4EBAF0;
            background-color: #012c4149;
            border-radius: 20px;
            padding: 10px;
            top: -2rem;
            left: -0.1rem;
            font-size: 1.5rem;
            text-align: center;
            width: 16rem;
            color: rgb(77, 150, 233);
        }
    
        .outerBorder-lBoard {
            position: relative;
            border: 2px solid #4EBAF0;
            width: 95%;
            margin-top: 2.5%;
            top:1rem;
            bottom: 1rem;
            left: 2.5%;
            margin-bottom: 1.5%;
            border-radius: 1.5rem;
            justify-content: center;
            align-items: center;
            align-content: center;
        }
        .table tr {
            color:#4EBAF0;
            font-size: 0.5rem;
        }
    
        .logo-lBoard {
            position: relative;
            width:8rem;
            top: 1rem;
            left: -1rem;
        }
    
        .logo-lBoard img {
            width: 8rem;
            height: auto;
        }
    
        .slot-button-lBoard {
            position: relative;
            padding: 5px 10px;
            width: 8rem;
            height: auto;
            top: 10%;
            display: inline-block;
            text-decoration: none;
            color: #4EBAF0;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            overflow: hidden;
            margin: 5px ;
            border-radius: 10px;
        }

        .soonText{
            margin-top: 40%;
            font-size: 1.3rem;
        }
    }
    
    /* For desktop */
    
    @media (min-width: 1025px) {
        .content {
            border-style: solid;
            border: 2px solid #4EBAF0;
            background-color: #012c4174;
            border-radius: 30px;
            padding: 20px;
            font-size: 2rem;
            left: -0.1rem;
            text-align: center;
            align-self: flex-end;
            width: 25rem;
            color: rgb(77, 150, 233);
        }
    
    
        .slot-button-lBoard {
            position: relative;
            padding: 15px 20px;
            width: 15rem;
            top: 10%;
            text-decoration: none;
            color: #4EBAF0;
            font-size: 1em;
            text-transform: uppercase;
            letter-spacing: 4px;
            overflow: hidden;
        }
    
        .logo-lBoard {
            position: absolute;
            top: 2rem;
            left: -0.5rem;
        }
    
        .logo-lBoard img {
            width: 10rem;
            height: auto;
        }
    }
</style>


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></scrip>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
{%endblock%}
